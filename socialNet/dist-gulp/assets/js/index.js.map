{"version":3,"sources":["index.js"],"names":["e","r","Symbol","n","iterator","o","toStringTag","i","c","u","f","p","y","G","prototype","Generator","Object","create","_regeneratorDefine2","v","a","d","bind","t","l","TypeError","call","done","value","length","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","api","_x","_api","_callee7","path","res","text","_args7","_context7","options","undefined","fetch","_objectSpread","headers","Content-Type","credentials","ok","Error","concat","status","json","table","_ref","_callee","row","userId","_context","contentType","target","closest","dataset","matches","method","body","JSON","stringify","role","showToast","_x2","addEventListener","_ref2","_callee2","email","birthdate","photoUrl","payload","_context2","btnSave","fullName","querySelector","trim","_x3","initUserEditForm","form","document","_ref3","_callee3","_context3","preventDefault","FormData","fromEntries","formData","entries","initUsersTable","_x4","initFriendsPage","load","container","_ref4","_callee4","friends","_context4","innerHTML","forEach","li","className","id","appendChild","_ref5","fid","_e$target$closest","remove","_context5","_callee5","_x5","console","initNewsPage","_ref6","news","_context6","createElement","Date","createdAt","toLocaleString","content","_callee6","message","el","setAttribute","window","bootstrap","Toast","delay","show"],"mappings":"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","file":"index.js","sourcesContent":["async function api(path, options = {}) {\r\n  const res = await fetch(path, {\r\n    headers: { 'Content-Type': 'application/json' },\r\n    credentials: 'same-origin',\r\n    ...options\r\n  });\r\n  if (!res.ok) {\r\n    const text = await res.text().catch(() => '');\r\n    throw new Error(`HTTP ${res.status}: ${text}`);\r\n  }\r\n  const contentType = res.headers.get('content-type') || '';\r\n  if (contentType.includes('application/json')) return res.json();\r\n  return res.text();\r\n}\r\n\r\nfunction initUsersTable() {\r\n  const table = document.querySelector('#users-table');\r\n  if (!table) return;\r\n\r\n  table.addEventListener('change', async (e) => {\r\n    const row = e.target.closest('tr[data-user-id]');\r\n    if (!row) return;\r\n    const userId = row.dataset.userId;\r\n\r\n    if (e.target.matches('select[data-role]')) {\r\n      const role = e.target.value;\r\n      await api(`/api/users/${userId}/role`, { method: 'PATCH', body: JSON.stringify({ role }) });\r\n      showToast('Роль обновлена');\r\n    }\r\n    if (e.target.matches('select[data-status]')) {\r\n      const status = e.target.value;\r\n      await api(`/api/users/${userId}/status`, { method: 'PATCH', body: JSON.stringify({ status }) });\r\n      showToast('Статус обновлён');\r\n    }\r\n  });\r\n\r\n  table.addEventListener('click', async (e) => {\r\n    const btnSave = e.target.closest('button[data-save-user]');\r\n    if (btnSave) {\r\n      const row = btnSave.closest('tr[data-user-id]');\r\n      const userId = row.dataset.userId;\r\n      const fullName = row.querySelector('input[name=\"fullName\"]').value.trim();\r\n      const email = row.querySelector('input[name=\"email\"]').value.trim();\r\n      const birthdate = row.querySelector('input[name=\"birthdate\"]').value.trim();\r\n      const photoUrl = row.querySelector('input[name=\"photoUrl\"]').value.trim();\r\n      const payload = { fullName, email, birthdate, photoUrl };\r\n      await api(`/api/users/${userId}`, { method: 'PUT', body: JSON.stringify(payload) });\r\n      showToast('Пользователь сохранён');\r\n    }\r\n  });\r\n}\r\n\r\nfunction initUserEditForm() {\r\n  const form = document.querySelector('#user-edit-form');\r\n  if (!form) return;\r\n  form.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    const userId = form.dataset.userId;\r\n    const formData = new FormData(form);\r\n    const payload = Object.fromEntries(formData.entries());\r\n    await api(`/api/users/${userId}`, { method: 'PUT', body: JSON.stringify(payload) });\r\n    showToast('Пользователь сохранён');\r\n  });\r\n}\r\n\r\nfunction initFriendsPage() {\r\n  const container = document.querySelector('#friends-list');\r\n  const userId = container?.dataset.userId;\r\n  if (!container || !userId) return;\r\n\r\n  const load = async () => {\r\n    const friends = await api(`/api/users/${userId}/friends`);\r\n    container.innerHTML = '';\r\n    friends.forEach((u) => {\r\n      const li = document.createElement('li');\r\n      li.className = 'list-group-item d-flex justify-content-between align-items-center';\r\n      li.innerHTML = `\r\n        <span>${u.fullName} <small class=\"text-muted\">&lt;${u.email}&gt;</small></span>\r\n        <button class=\"btn btn-sm btn-outline-danger\" data-remove=\"${u.id}\">Удалить</button>`;\r\n      container.appendChild(li);\r\n    });\r\n  };\r\n\r\n  container.addEventListener('click', async (e) => {\r\n    const fid = e.target.closest('button[data-remove]')?.dataset.remove;\r\n    if (fid) {\r\n      await api(`/api/users/${userId}/friends/${fid}`, { method: 'DELETE' });\r\n      await load();\r\n      showToast('Друг удалён');\r\n    }\r\n  });\r\n\r\n  load().catch(console.error);\r\n}\r\n\r\nfunction initNewsPage() {\r\n  const container = document.querySelector('#news-list');\r\n  const userId = container?.dataset.userId;\r\n  if (!container || !userId) return;\r\n\r\n  const load = async () => {\r\n    const news = await api(`/api/users/${userId}/news`);\r\n    container.innerHTML = '';\r\n    news.forEach((n) => {\r\n      const li = document.createElement('li');\r\n      li.className = 'list-group-item';\r\n      li.innerHTML = `<div class=\"fw-bold\">${new Date(n.createdAt).toLocaleString()}</div><div>${n.content}</div>`;\r\n      container.appendChild(li);\r\n    });\r\n  };\r\n\r\n  load().catch(console.error);\r\n}\r\n\r\nfunction showToast(message) {\r\n  const el = document.createElement('div');\r\n  el.className = 'toast align-items-center text-bg-primary border-0 position-fixed bottom-0 end-0 m-3';\r\n  el.setAttribute('role', 'alert');\r\n  el.innerHTML = `<div class=\"d-flex\"><div class=\"toast-body\">${message}</div><button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button></div>`;\r\n  document.body.appendChild(el);\r\n  const toast = new window.bootstrap.Toast(el, { delay: 1500 });\r\n  toast.show();\r\n  el.addEventListener('hidden.bs.toast', () => el.remove());\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  initUsersTable();\r\n  initUserEditForm();\r\n  initFriendsPage();\r\n  initNewsPage();\r\n});\r\n"]}